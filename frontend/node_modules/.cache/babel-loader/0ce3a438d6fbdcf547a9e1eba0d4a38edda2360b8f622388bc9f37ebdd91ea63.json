{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[tasks,setTasks]=useState([]);const[newTask,setNewTask]=useState('');const[newDescription,setNewDescription]=useState('');// Determina si estamos en un entorno Dockerizado o en desarrollo\nconst apiBaseUrl=window.location.hostname==='localhost'?'http://localhost:8080':'http://backend:8080';// Función para obtener las tareas\nconst fetchTasks=async()=>{try{const response=await fetch(\"\".concat(apiBaseUrl,\"/api/tasks\"));if(!response.ok){throw new Error(\"Error al obtener tareas: \".concat(response.statusText));}const data=await response.json();setTasks(data.tasks);}catch(error){console.error('Error fetching tasks:',error);alert('Hubo un problema al obtener las tareas.');}};// Función para agregar una nueva tarea\nconst addTask=async()=>{if(!newTask.trim()||!newDescription.trim()){alert('Por favor, ingresa un nombre y una descripción para la tarea.');return;}try{const response=await fetch(\"\".concat(apiBaseUrl,\"/api/tasks\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({taskName:newTask,description:newDescription})});if(!response.ok){throw new Error(\"Error al agregar tarea: \".concat(response.statusText));}// Recargar las tareas después de agregar una nueva\nfetchTasks();setNewTask('');setNewDescription('');}catch(error){console.error('Error adding task:',error);alert('Hubo un problema al agregar la tarea.');}};// UseEffect para cargar las tareas al inicio\nuseEffect(()=>{fetchTasks();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Lista de Tareas\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nueva tarea\",value:newTask,onChange:e=>setNewTask(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Descripci\\xF3n\",value:newDescription,onChange:e=>setNewDescription(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addTask,children:\"Agregar Tarea\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map((task,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:task.taskName}),\": \",task.description]},index))})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","tasks","setTasks","newTask","setNewTask","newDescription","setNewDescription","apiBaseUrl","window","location","hostname","fetchTasks","response","fetch","concat","ok","Error","statusText","data","json","error","console","alert","addTask","trim","method","headers","body","JSON","stringify","taskName","description","className","children","type","placeholder","value","onChange","e","target","onClick","map","task","index"],"sources":["C:/Users/Usuario/Documents/PRACTICA/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [newTask, setNewTask] = useState('');\r\n  const [newDescription, setNewDescription] = useState('');\r\n\r\n  // Determina si estamos en un entorno Dockerizado o en desarrollo\r\n  const apiBaseUrl = window.location.hostname === 'localhost' ? 'http://localhost:8080' : 'http://backend:8080';\r\n\r\n  // Función para obtener las tareas\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const response = await fetch(`${apiBaseUrl}/api/tasks`);\r\n      if (!response.ok) {\r\n        throw new Error(`Error al obtener tareas: ${response.statusText}`);\r\n      }\r\n      const data = await response.json();\r\n      setTasks(data.tasks);\r\n    } catch (error) {\r\n      console.error('Error fetching tasks:', error);\r\n      alert('Hubo un problema al obtener las tareas.');\r\n    }\r\n  };\r\n\r\n  // Función para agregar una nueva tarea\r\n  const addTask = async () => {\r\n    if (!newTask.trim() || !newDescription.trim()) {\r\n      alert('Por favor, ingresa un nombre y una descripción para la tarea.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${apiBaseUrl}/api/tasks`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ taskName: newTask, description: newDescription }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Error al agregar tarea: ${response.statusText}`);\r\n      }\r\n\r\n      // Recargar las tareas después de agregar una nueva\r\n      fetchTasks();\r\n      setNewTask('');\r\n      setNewDescription('');\r\n    } catch (error) {\r\n      console.error('Error adding task:', error);\r\n      alert('Hubo un problema al agregar la tarea.');\r\n    }\r\n  };\r\n\r\n  // UseEffect para cargar las tareas al inicio\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Lista de Tareas</h1>\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nueva tarea\"\r\n          value={newTask}\r\n          onChange={(e) => setNewTask(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Descripción\"\r\n          value={newDescription}\r\n          onChange={(e) => setNewDescription(e.target.value)}\r\n        />\r\n        <button onClick={addTask}>Agregar Tarea</button>\r\n      </div>\r\n      <ul>\r\n        {tasks.map((task, index) => (\r\n          <li key={index}>\r\n            <strong>{task.taskName}</strong>: {task.description}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}